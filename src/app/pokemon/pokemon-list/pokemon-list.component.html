<mat-grid-list cols="1" rowHeight="14:1">
  <mat-grid-tile class="search-container">
    <mat-form-field appearance="outline">
      <mat-label>Rechercher un Pokémon</mat-label>
      <input matInput id="search" type="text" name="searchTerm" placeholder="Nom du Pokémon"
             #searchFiel [value]="searchTerm()" (input)="searchTerm.set(searchFiel.value)" />
    </mat-form-field>
  </mat-grid-tile>
</mat-grid-list>

@if(loading()) {
  <div class="loader-container">
    <mat-spinner color="primary"></mat-spinner>
  </div>
}

<mat-grid-list class="pokemon-grid" [cols]="cols()" rowHeight="2:1" gutterSize="0">
  @for(pokemon of pokemonListFiltered(); track pokemon.id) {   
    <mat-grid-tile>
      <mat-card class="pokemon-card" appearance="outlined" [routerLink]="['/pokemons', pokemon.id]">
        <div class="card-wrapper">
          <div class="pokemon-image-container">
            <img [src]="pokemon.picture" alt="{{ pokemon.name }}" />
          </div>
          <div class="card-body">
            <h5 class="card-title">{{ pokemon.name }}</h5>
            <h6 class="card-subtitle">
              Taille : {{ size(pokemon) }}
            </h6>
            <div class="pokemon-info">
              <p>Points de vie : {{ pokemon.life }}</p>
              <p>Dégats : {{ pokemon.damage }}</p>
              <p>{{ pokemon.created | date }}</p>
            </div>
          </div>
        </div>
      </mat-card>
    </mat-grid-tile>
  }
</mat-grid-list>

<div class="fab-button">
  <button mat-fab color="primary" aria-label="Ajouter un Pokémon" routerLink="/pokemons/add">
    <mat-icon>add</mat-icon>
  </button>
</div>